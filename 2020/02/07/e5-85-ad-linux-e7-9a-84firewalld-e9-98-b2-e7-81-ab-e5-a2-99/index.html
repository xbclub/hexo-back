<!DOCTYPE html>
<html lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  
  <title itemprop="name">(六) Linux的Firewalld防火墙 | 42cloud and 42team</title>
  
    <link rel="shortcut icon" href="/images/favicon.ico">
  
  <meta http-equiv="x-dns-prefetch-control" content="on">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+SerifMerriweather|Merriweather+Sans|Source+Code+Pro|Ubuntu:400,700|Noto+Serif+SC" media="all">
<!--  <link rel="dns-prefetch" href="//cdn.jsdelivr.net">-->
  <link rel="stylesheet" id="saukra_css-css" href="https://cdn.jsdelivr.net/gh/xbclub/staticCDN/css/style.css" type="text/css" media="all">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/xbclub/staticCDN/css/lib.min.css" media="all">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/xbclub/staticCDN/css/font.css" media="all">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/xbclub/staticCDN/css/insight.css" media="all">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/xbclub/staticCDN/css/jquery.fancybox.min.css" media="all">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/xbclub/staticCDN/css/zoom.css" media="all">
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/xbclub/staticCDN/css/sharejs.css">
<!--   <link rel="stylesheet" id="saukra_css-css" href="https://2heng.xin/wp-content/cache/autoptimize/css/autoptimize_ad42a61f4c7d4bdd9f91afcff6b5dda5.css
" type="text/css" media="all"> -->
  <script>
  /*Initial Variables*/
  var mashiro_option = new Object();
  var mashiro_global = new Object();
  mashiro_option.NProgressON = true;
  /* 
   * 邮箱信息之类的东西可以填在这里，这些js变量基本都作用于sakura-app.js
   * 这样的设置仅是为了方便在基于PHP开发的主题中设置js变量，既然移植到了Node上，我想或许可以精简这一逻辑吧
   */
  mashiro_option.email_domain = "";
  mashiro_option.email_name = "";
  mashiro_option.cookie_version_control = "";
  mashiro_option.qzone_autocomplete = false;
  mashiro_option.site_name = "42cloud";
  mashiro_option.author_name = "";
  mashiro_option.site_url = "http://123.56.84.132/public";
  mashiro_option.v_appId = "GyC3NzMvd0hT9Yyd2hYIC0MN-gzGzoHsz";
  mashiro_option.v_appKey = "mgOpfzbkHYqU92CV4IDlAUHQ";
  mashiro_option.mathjax = "0";
  mashiro_option.qq_api_url = "https://api.mashiro.top/qqinfo/"; 
  mashiro_option.qq_avatar_api_url = "https://api.mashiro.top/qqinfo/";

  // mashiro_option.jsdelivr_css_src = "https://cdn.jsdelivr.net/gh/moezx/cdn@3.4.5/css/lib.min.css";
  // mashiro_option.float_player_on = true;

  /*End of Initial Variables*/
  </script>
  <script type="text/javascript">
  var bg = "https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/cover/(1).jpg.webp,https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/cover/(2).jpg.webp,https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/cover/(3).jpg.webp,https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/cover/(4).jpg.webp,https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/cover/(5).jpg.webp,https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/cover/(6).jpg.webp,https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/cover/(7).jpg.webp,https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/cover/(8).jpg.webp".split(",");
  var bgindex = Math.floor(Math.random()*bg.length);
  if (!!window.ActiveXObject || "ActiveXObject" in window) { //is IE?
    alert('朋友，IE浏览器未适配哦~');
  }
  </script>
  <style type="text/css">
  .hljs-ln{border-collapse:collapse}.hljs-ln td{padding:0}.hljs-ln-n:before{content:attr(data-line-number)}
  </style>
  <style type="text/css">.site-top .lower nav{display:block !important;}.author-profile i,.post-like a,.post-share .show-share,.sub-text,.we-info a,span.sitename,.post-more i:hover,#pagination a:hover,.post-content a:hover,.float-content i:hover{color:#FE9600}.feature i,.download,.navigator i:hover,.links ul li:before,.ar-time i,span.ar-circle,.object,.comment .comment-reply-link,.siren-checkbox-radio:checked + .siren-checkbox-radioInput:after{background:#FE9600}::-webkit-scrollbar-thumb{background:#FE9600}.download,.navigator i:hover,.link-title,.links ul li:hover,#pagination a:hover,.comment-respond input[type='submit']:hover{border-color:#FE9600}.entry-content a:hover,.site-info a:hover,.comment h4 a,#comments-navi a.prev,#comments-navi a.next,.comment h4 a:hover,.site-top ul li a:hover,.entry-title a:hover,#archives-temp h3,span.page-numbers.current,.sorry li a:hover,.site-title a:hover,i.iconfont.js-toggle-search.iconsearch:hover,.comment-respond input[type='submit']:hover{color:#FE9600}.comments .comments-main{display:block !important;}.comments .comments-hidden{display:none !important;}background-position:center center;background-attachment:inherit;}
  </style>
</head>
</html>
<body class="page-template page-template-user page-template-page-analytics page-template-userpage-analytics-php page page-id-1297 chinese-font serif isWebKit">
  <div class="scrollbar" id="bar">
  </div>
  <a href="#" class="cd-top faa-float animated"></a>
  <section id="main-container">
    <div class="headertop filter-dot">
  <div id="banner_wave_1"></div>
  <div id="banner_wave_2"></div>
  <figure id="centerbg" class="centerbg">
    <div class="focusinfo no-select">
      <div class="header-tou">
        <a href="http://123.56.84.132/public">
          <img src="https://cdn.jsdelivr.net/gh/xbclub/CDN/wp-content/uploads/2020/01/4311c9ad04554119.png">
        </a>
      </div>
      <div class="header-info">
        <p>Live your life with passion! With some drive!</p>
        <div class="top-social_v2">
          <li id="bg-pre">
            <img class="flipx" src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/next-b.svg">
          </li>
          
            
              
                <li>
                  <a href="http://github.com/xbclub" target="_blank" class="social-github" title="github">
                    <img src="https://cdn.jsdelivr.net/gh/xbclub/staticCDN/img/social/github.png">
                  </a>
                </li>
              
            
          
          <li id="bg-next">
            <img src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/next-b.svg">
          </li>
        </div>
      </div>
    </div>
  </figure>
  
  <div id="video-container" style="display: none;">
    <video style="object-fit: fill" id="bgvideo" class="video" video-name="" src="" width="auto" preload="auto">
    </video>
    <div id="video-btn" class="loadvideo videolive">
    </div>
    <div id="video-add">
    </div>
    <div class="video-stu" >
    </div>
  </div>
  
  <div class="headertop-down faa-float animated" onclick="headertop_down()">
    <span>
      <i class="fa fa-chevron-down" aria-hidden="true">
      </i>
    </span>
  </div>
</div>
    <div id="page" class="site wrapper">
      <header class="site-header no-select gizle sabit" role="banner">
  <div class="site-top">
    <div class="site-branding">
      <span class="site-title">
        <span class="logolink moe-mashiro">
          <a href="/">
            <span class="sakurasono">42cloud</span>
            <span class="shironeko"></span>
          </a>
        </span>
      </span>
    </div>
    <div class="searchbox search-form-submit">
      <i class="iconfont js-toggle-search iconsearch icon-search">
      </i>
    </div>
    <div id="show-nav" class="showNav mobile-fit">
      <div class="line line1">
      </div>
      <div class="line line2">
      </div>
      <div class="line line3">
      </div>
    </div>
    <div class="lower-cantiner">
      <div class="lower">
        <nav class="mobile-fit-control hide">
          <ul id="menu-new" class="menu">
            
              <li>
                <a href="/public/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-fort-awesome faa-shake" aria-hidden="true"></i>
                    首页
                  </span>
                </a>
                
              </li>
            
              <li>
                <a href="/public/categories/奇思妙想">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-lightbulb-o faa-shake" aria-hidden="true"></i>
                    奇思妙想
                  </span>
                </a>
                
                  <ul class="sub-menu">
                    
                      <li>
                        <a href="/public/categories/奇思妙想/实用技巧">
                          <i class="fa " aria-hidden="true"></i>
                          实用技巧
                        </a>
                      </li>
                    
                      <li>
                        <a href="/public/categories/奇思妙想/漫画">
                          <i class="fa " aria-hidden="true"></i>
                          漫画
                        </a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/public/categories/代码学习">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-archive faa-shake" aria-hidden="true"></i>
                    代码学习
                  </span>
                </a>
                
                  <ul class="sub-menu">
                    
                      <li>
                        <a href="/public/categories/代码学习/Python">
                          <i class="fa " aria-hidden="true"></i>
                          Python
                        </a>
                      </li>
                    
                      <li>
                        <a href="/public/categories/代码学习/Java">
                          <i class="fa " aria-hidden="true"></i>
                          Java
                        </a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/public/atom.xml">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-rss faa-pulse" aria-hidden="true"></i>
                    RSS
                  </span>
                </a>
                
              </li>
            
          </ul>
        </nav>
      </div>
    </div>
  </div>
</header>

      <link rel="stylesheet" type="text/css" href="/css/sharejs.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/xbclub/staticCDN@master/css/tocbot.css">
<div class="pattern-center-blank"></div>

<div id="content" class="site-content">
  <div id="primary" class="content-area">
    <main id="main" class="site-main" role="main">
      <article id="post-1" class="post-1 post type-post status-publish format-standard has-post-thumbnail hentry category-uncategorized">
        <div class="toc"></div>
        <!--<div class="toc-entry-content"><!-- 套嵌目录使用（主要为了支援评论）-->
        
          <header class="entry-header">
            <h1 class="entry-title">(六) Linux的Firewalld防火墙</h1>
            <p class="entry-census">&nbsp;·&nbsp;2020-2-7&nbsp;·&nbsp;<span id="busuanzi_value_page_pv"></span>次阅读</p></p>

            <hr>
          </header>
        
        <div class="entry-content">
          <h1 id="Linux的Firewalld防火墙"><a href="#Linux的Firewalld防火墙" class="headerlink" title="Linux的Firewalld防火墙"></a>Linux的Firewalld防火墙</h1><p>使用防火墙可以对外部的数据包进行过滤和阻止，尽可能减少暴露在网络上的危险以保护系统安全。在<code>RHEL7</code>系的Linux系统中，已经将<code>iptables</code>防火墙管理工具使用<code>firewalld</code>代替。这篇文章的所有案例在<code>RHEL8</code>上成功执行，如果遇到了问题请尝试变通或者在底部评论区与我留言。</p>
<h1 id="1-firewalld防火墙简介"><a href="#1-firewalld防火墙简介" class="headerlink" title="1. firewalld防火墙简介"></a>1. <code>firewalld</code>防火墙简介</h1><p><code>firewalld</code>提供了一个动态管理的防火墙，在对防火墙规则修改时不需要断开连接就可以激活规则，并且支持网络区域<code>zones</code>,用来分配一个网络及相关连接一种程度上的信任。它已经对<code>IPv4</code>和<code>IPv6</code>进行支持。并且可以选择对规则临时或永久修改。</p>
<h2 id="1-1-firewalld与iptables的主要区别"><a href="#1-1-firewalld与iptables的主要区别" class="headerlink" title="1.1. firewalld与iptables的主要区别"></a>1.1. <code>firewalld</code>与<code>iptables</code>的主要区别</h2><ul>
<li><p><code>iptables</code>在<code>/etc/sysconfig/iptables-config</code>文件中存储配置。<code>firewalld</code>在<code>/etc/firewalld/</code>下存储XML配置文件。</p>
</li>
<li><p>使用<code>iptables</code>时每一个规则的更改意味着要清除所有旧的规则，然后从<code>/etc/sysconfig/iptables-config</code>配置文件中读取所有新的规则并载入。然而使用<code>firewalld</code>可以临时的将新添加的规则载入使用，不会像<code>iptables</code>一样丢失连接。</p>
</li>
</ul>
<p>使用<code>iptables</code>命令行和<code>firewalld</code>工具和内核的<code>NetFilter</code>（内核防火墙框架）的交互示意图如下。 <img src="https://cdn.jsdelivr.net/gh/xbclub/CDN/wp-content/uploads/2020/02/iptables与firewalld区别.png" alt></p>
<blockquote>
<p>可以看出<code>NetFilter</code>才是真正的“防火墙”，它是Linux操作系统核心层内部的一个数据包处理框架，由图可以看出，不论是<code>iptables</code>命令行工具还是<code>firewalld</code>工具，它们都会通过<code>iptables command</code>与<code>NetFilter</code>(内核防火墙框架)放出来的接口实现沟通并使防火墙的规则生效。</p>
</blockquote>
<h2 id="1-2-对firewalldZone网络区的理解"><a href="#1-2-对firewalldZone网络区的理解" class="headerlink" title="1.2. 对firewalldZone网络区的理解"></a>1.2. 对<code>firewalld</code>Zone网络区的理解</h2><p>基于对网络中的设备和通信所给予的信任程度不同，<code>firewalld</code>防火墙可以用来将网络分割成不同的区域。 使用<code>firewall-cmd --get-zones</code>查看默认提供的<code>zone</code>，这些<code>zone</code>提供了一些基本的规则，也可以修改并保存规则。比如在工作单位时我切换到<code>home</code>Zone来屏蔽大多数让我分心的网络连接，然而回家后我需要娱乐娱乐，此时我将Zone改为<code>home</code>或者我信任我家里的网络并且改为了<code>trust</code>Zone，这样又可以悠闲的享受那些娱乐网站咯。</p>
<p>Zone类型</p>
<p>说明</p>
<p>block</p>
<p>封锁</p>
<p>任何的连接都会被拒绝接收，并返回<code>icmp(6)-host-prohibited</code>拒绝信息</p>
<p>dmz</p>
<p>非军事区</p>
<p>处于此区域的设备可以公开访问，可以有限制的进入内部网络，仅接收经过选择的连接</p>
<p>drop</p>
<p>抛弃</p>
<p>接收到的任何连接都会被悄无声息的抛弃掉，不返回任何相应，仅允许对外发出的连接</p>
<p>external</p>
<p>外部</p>
<p>不信任来自网络的所有连接，仅接收经过选择的连接</p>
<p>home</p>
<p>家庭区</p>
<p>用于家庭网络。信任网络中的大多数连接，仅接收经过选择的连接</p>
<p>internal</p>
<p>内部</p>
<p>与home提供的默认规则相同</p>
<p>public</p>
<p>公共</p>
<p>不能相信网络内的其他计算机不会对您的计算机造成危害，仅接收经过选择的连接</p>
<p>trust</p>
<p>信任</p>
<p>可以接受任何的网络连接</p>
<p>work</p>
<p>工作</p>
<p>与public提供的默认规则相同</p>
<p>上面的所有Zones每个网络接口可以使用一个Zone作为当前Zone。当接入网络连接后，<code>NetWorkManager</code>将被分配为你设定好的默认Zone网络区，<code>firewalld</code>默认的网络区为<code>public</code>。</p>
<h1 id="2-安装firewalld防火墙"><a href="#2-安装firewalld防火墙" class="headerlink" title="2. 安装firewalld防火墙"></a>2. 安装<code>firewalld</code>防火墙</h1><p>安装<code>firewalld</code>需要以root用户身份执行下面的命令，并且执行<code>firewalld</code>命令时也要使用root用户身份执行。 <code>dnf install firewalld</code> 如果你安装了系统图形界面，并且也想使用图形化工具来管理<code>firewalld</code>，请执行如下命令。 <code>dnf install firewall-config</code> <strong>但是本文中不会涉及到使用图形化工具配置<code>firewalld</code>防火墙</strong></p>
<h2 id="2-1-启动防火墙"><a href="#2-1-启动防火墙" class="headerlink" title="2.1. 启动防火墙"></a>2.1. 启动防火墙</h2><p>设置<code>firewalld</code>防火墙为默认防火墙并随着系统启动服务 <code>systemctl enable firewalld</code> 启动防火墙 <code>systemctl start firewalld</code></p>
<blockquote>
<p>如果对<code>systemctl</code>命令不了解，可以在浏览<a href="https://github.com/yeefire/Blog/blob/master/42team/42Team_Linux%E5%AE%88%E6%8A%A4%E8%BF%9B%E7%A8%8B%E5%92%8C%E6%8E%A7%E5%88%B6%E6%9C%8D%E5%8A%A1.md#%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E6%9C%8D%E5%8A%A1" target="_blank" rel="noopener">守护进程和控制服务</a>相关博文。</p>
</blockquote>
<h2 id="2-2-检查防火墙是否运行"><a href="#2-2-检查防火墙是否运行" class="headerlink" title="2.2. 检查防火墙是否运行"></a>2.2. 检查防火墙是否运行</h2><p><code>systemctl status firewalld.service</code></p>
<pre><code>systemctl status firewalld.service
● firewalld.service - firewalld - dynamic firewall daemon
   Loaded: loaded (/usr/lib/systemd/system/firewalld.service; enabled; vendor preset: enabled)
   Active: active (running) since Wed 2020-02-05 08:03:45 CST; 10h ago
     Docs: man:firewalld(1)
 Main PID: 1539 (firewalld)
    Tasks: 2 (limit: 49252)
   Memory: 35.7M
   CGroup: /system.slice/firewalld.service
           └─1539 /usr/libexec/platform-python -s /usr/sbin/firewalld --nofork --nopid

Feb 05 08:03:44 centos8 systemd[1]: Starting firewalld - dynamic firewall daemon...
Feb 05 08:03:45 centos8 systemd[1]: Started firewalld - dynamic firewall daemon.
</code></pre><p>使用<code>firewall-cmd --state</code>也可以查看防火墙运行状态</p>
<pre><code>firewall-cmd --state
running # 运行中
</code></pre><h1 id="3-使用firewall-cmd进行管理"><a href="#3-使用firewall-cmd进行管理" class="headerlink" title="3. 使用firewall-cmd进行管理"></a>3. 使用<code>firewall-cmd</code>进行管理</h1><h2 id="3-1-Zone网络区管理"><a href="#3-1-Zone网络区管理" class="headerlink" title="3.1. Zone网络区管理"></a>3.1. Zone网络区管理</h2><h3 id="3-1-1-查看所有Zone网络区"><a href="#3-1-1-查看所有Zone网络区" class="headerlink" title="3.1.1. 查看所有Zone网络区"></a>3.1.1. 查看所有Zone网络区</h3><p><code>firewall-cmd --list-all-zones</code> 列出所有Zone的配置规则</p>
<pre><code>firewall-cmd --list-all-zones 
block
  target: %%REJECT%%
  icmp-block-inversion: no
  interfaces: 
  sources: 
...
</code></pre><p>还可以精简的只输出Zone的名字 <code>firewall-cmd --get-zones</code></p>
<h3 id="3-1-2-查看firewalld默认Zone"><a href="#3-1-2-查看firewalld默认Zone" class="headerlink" title="3.1.2. 查看firewalld默认Zone"></a>3.1.2. 查看<code>firewalld</code>默认Zone</h3><p><code>firewall-cmd --get-default-zone</code></p>
<pre><code>firewall-cmd --get-default-zone 
public  # `firewalld`默认Zone为public
</code></pre><h3 id="3-1-3-查询某个网络接口上使用的Zone"><a href="#3-1-3-查询某个网络接口上使用的Zone" class="headerlink" title="3.1.3. 查询某个网络接口上使用的Zone"></a>3.1.3. 查询某个网络接口上使用的Zone</h3><p><code>firewall-cmd --get-zone-of-interface=XXXX</code></p>
<pre><code>firewall-cmd --get-zone-of-interface=ens32  # 这里查看ens32网络接口当前的Zone
public  # 当前ens32接口上激活的是`public`Zone
</code></pre><h3 id="3-1-4-查看已激活的Zone的网络接口列表"><a href="#3-1-4-查看已激活的Zone的网络接口列表" class="headerlink" title="3.1.4. 查看已激活的Zone的网络接口列表"></a>3.1.4. 查看已激活的Zone的网络接口列表</h3><p><code>firewall-cmd --get-active-zones</code></p>
<pre><code>firewall-cmd --get-active-zones       
public  
  interfaces: ens32

# 可以看到，当前只有public网络区被激活。并且只有一个网络接口`ens32`使用这个Zone
</code></pre><h3 id="3-1-5-查询某一个Zone的详细规则信息"><a href="#3-1-5-查询某一个Zone的详细规则信息" class="headerlink" title="3.1.5. 查询某一个Zone的详细规则信息"></a>3.1.5. 查询某一个Zone的详细规则信息</h3><p><code>firewall-cmd --zone=public --list-all</code></p>
<pre><code>firewall-cmd --zone=public --list-all 
public (active)
  target: default
  icmp-block-inversion: no
  interfaces: ens32
  sources: 
  services: cockpit dhcpv6-client ssh
  ports: 8096/tcp
  protocols: 
  masquerade: no
  forward-ports: 
  source-ports: 
  icmp-blocks: 
  rich rules: 

  # 可以看到public网络区的规则信息：绑定了`ens32`网络接口，放行了cockpit dhcpv6-client ssh 服务的默认端口规则，还放行了8096的tcp端口。
</code></pre><h3 id="3-1-6-修改当前默认的Zone网络区"><a href="#3-1-6-修改当前默认的Zone网络区" class="headerlink" title="3.1.6. 修改当前默认的Zone网络区"></a>3.1.6. 修改当前默认的Zone网络区</h3><p>比如设置默认网络区为<code>public</code>，更改会立即生效。此时此刻，所有接口上默认绑定的Zone网络区都会切换到新的这个<code>public</code>Zone网络区上。 <code>firewall-cmd --set-default-zone=public</code></p>
<h3 id="3-1-7-修改网络接口上的Zone网络区"><a href="#3-1-7-修改网络接口上的Zone网络区" class="headerlink" title="3.1.7. 修改网络接口上的Zone网络区"></a>3.1.7. 修改网络接口上的Zone网络区</h3><p>如果有许多网络接口，要更改当前<code>ens32</code>网络接口绑定的Zone网络区为<code>home</code>，可以执行如下命令。 <code>firewall-cmd --zone=home --change-interface=ens32</code></p>
<h3 id="3-1-8-删除绑定在网络接口上的Zone网络区"><a href="#3-1-8-删除绑定在网络接口上的Zone网络区" class="headerlink" title="3.1.8. 删除绑定在网络接口上的Zone网络区"></a>3.1.8. 删除绑定在网络接口上的Zone网络区</h3><p>如果你不想让某以网络接口绑定到任何的网络区上，你可以执行如下命令。但是这么做无异于裸奔在网络世界中！ <code>firewall-cmd --remove-interface=ens32</code></p>
<pre><code>firewall-cmd --remove-interface=ens32 
You&#39;re performing an operation over default zone (&#39;public&#39;) 
but your connections/interfaces are in zone &#39;trusted&#39; (see --get-active-zones)
You most likely need to use --zone=trusted option.  # 由于没有加上--zone参数，这里给我们一个提示。

success
</code></pre><blockquote>
<p>实际上任何一个网络接口都要绑定一个Zone网络区，如果将绑定的网络区删除，在<code>reload</code>firewall规则后会发现刚刚删除Zone的网络接口自动绑定到了<code>trusted</code>的Zone网络区，也就是说不受到防火墙的任何规则限制，比较危险。</p>
</blockquote>
<h2 id="3-2-重新加载firewalld防火墙"><a href="#3-2-重新加载firewalld防火墙" class="headerlink" title="3.2. 重新加载firewalld防火墙"></a>3.2. 重新加载<code>firewalld</code>防火墙</h2><h3 id="3-2-1-不中断用户连接"><a href="#3-2-1-不中断用户连接" class="headerlink" title="3.2.1. 不中断用户连接"></a>3.2.1. 不中断用户连接</h3><p>通常在对规则添加<code>--permanent</code>永久生效的选项后，规则不会立即生效，需要重新加载防火墙后配置的永久规则才会生效。在不中断用户现有的连接的情况下，建议使用<code>firewall-cmd --reload</code>来重新加载防火墙。 <code>firewall-cmd --reload</code></p>
<h3 id="3-2-2-完全重载防火墙，并断开现有的用户连接"><a href="#3-2-2-完全重载防火墙，并断开现有的用户连接" class="headerlink" title="3.2.2. 完全重载防火墙，并断开现有的用户连接"></a>3.2.2. 完全重载防火墙，并断开现有的用户连接</h3><p>通常在<code>firewalld</code>防火墙出现问题时才会使用这种方式重载防火墙，这种方式会断开现有的网络连接，即丢失状态信息！ <code>firewall-cmd --complete-reload</code></p>
<h2 id="3-3-打开-关闭防火墙端口-放行端口"><a href="#3-3-打开-关闭防火墙端口-放行端口" class="headerlink" title="3.3. 打开/关闭防火墙端口(放行端口)"></a>3.3. 打开/关闭防火墙端口(放行端口)</h2><p>如果本地需要开放一个端口供外部访问，那么你可以将这个端口添加到某一网络区的放行端口规则中。</p>
<h3 id="3-3-1-打开防火墙端口-放行端口"><a href="#3-3-1-打开防火墙端口-放行端口" class="headerlink" title="3.3.1. 打开防火墙端口(放行端口)"></a>3.3.1. 打开防火墙端口(放行端口)</h3><p><code>firewall-cmd --add-port=portid[-portid]/protocol [--permanent] [--zone=zone]</code> 参数(portid[-portid]):要开放的端口号，如果是一个范围则使用<code>10000-12000</code>表达一个范围。 参数(protocol):<a href="https://www.cnblogs.com/ysuwangqiang/p/11485646.html" target="_blank" rel="noopener">TCP/UDP协议</a> 可选参数(zone):将规则添加到哪个Zone网络区中，如果缺省该参数则添加到默认Zone网络区中。 可选选项(–permanent):规则永久保存，重新加载防火墙后生效。如果缺省该参数则修改的规则立即生效，但是重新加载防火墙后规则会<strong>失效</strong>。</p>
<pre><code>firewall-cmd --add-port=6000-7000/tcp --permanent --zone=public # 在public网络区下放行6000~7000之间TCP通信协议的网络端口(闭区间)，规则永久保存并且在下一次重新加载防火墙后生效。
success

firewall-cmd --zone=public --list-all # 检查修改后的public网络区的规则，发现并没有新添加的放行端口规则，说明规则还没有生效，需要重新加在防火墙。
public (active)
  target: default
  icmp-block-inversion: no
  interfaces: ens32
  sources: 
  services: cockpit dhcpv6-client http https ssh
  ports: 8096/tcp
  protocols: 
  masquerade: no
  forward-ports: 
  source-ports: 
  icmp-blocks: 
  rich rules: 


firewall-cmd --reload # 重新加载防火墙

firewall-cmd --list-all --zone=public # 再次检查规则是否生效。发现规则已生效。
public
  target: default
  icmp-block-inversion: no
  interfaces: 
  sources: 
  services: cockpit dhcpv6-client http https ssh
  ports: 8096/tcp 6000-7000/tcp
  protocols: 
  masquerade: no
  forward-ports: 
  source-ports: 
  icmp-blocks: 
  rich rules: 
</code></pre><p>下面在默认的网络区内永久放行单个TCP端口</p>
<pre><code>firewall-cmd --add-port=6000/tcp --permanent # 这里没有添加`--zone`的选项和参数，会自动添加到默认网络区中。

firewall-cmd --reload 重新加载防火墙，使规则生效。
</code></pre><h3 id="3-3-2-关闭防火墙端口-关闭端口"><a href="#3-3-2-关闭防火墙端口-关闭端口" class="headerlink" title="3.3.2. 关闭防火墙端口(关闭端口)"></a>3.3.2. 关闭防火墙端口(关闭端口)</h3><p>刚刚已经将端口放行，并且暴露在外。如果需要这个端口的服务不再使用，出于安全考虑你可以将这个端口从放行规则中删除掉。 <code>firewall-cmd --remove-port=portid[-portid]/protocol [--permanent] [--zone=zone]</code> 参数(–remove-port=portid[-portid]/protocol):你要移除的端口号/端口范围，注意表明是TCP协议还是UDP协议哦。和你添加的时候一样，如果添加时你写的是一个端口范围，那么删除时只能将全部的端口范围删除掉，不能只删除端口范围中一部分端口。 可选参数(–zone=zone)：关闭指定网络区中的端口，如果缺省该参数，则从默认的网络区中删除端口。 可选选项(–permanent)：规则永久保存，重新加载防火墙后生效。如果缺省该参数则修改的规则立即生效，但是重新加载防火墙后规则会<strong>失效</strong>。</p>
<pre><code>firewall-cmd --remove-port=8080/tcp --permanent #关闭默认Zone网络区开放的TCP8080端口

firewall-cmd --remove-port=1000-2000/udp --zone=public --permanent  #永久关闭在public网络区下开放的UDP1000-2000端口。
</code></pre><h2 id="3-4-放行-关闭防火墙某一服务-放行服务"><a href="#3-4-放行-关闭防火墙某一服务-放行服务" class="headerlink" title="3.4. 放行/关闭防火墙某一服务(放行服务)"></a>3.4. 放行/关闭防火墙某一服务(放行服务)</h2><p>firewalld中存储了常见服务的默认端口信息，如果你的服务没有更改过默认的端口号，那么可以直接使用<code>firewald</code>放行服务，它会根据默认规则，自动放行一个或一组此服务需要的端口。只需要管理员来记忆服务名就好咯！</p>
<h3 id="3-4-1-查看所有支持的服务"><a href="#3-4-1-查看所有支持的服务" class="headerlink" title="3.4.1. 查看所有支持的服务"></a>3.4.1. 查看所有支持的服务</h3><p><code>firewall-cmd --get-services</code> 你能看到所有firewald存储的默认服务端口号，如果此时你需要开启某一服务的端口就不需要记他们默认的端口号了，试试<code>firewall-cmd --add-service=XXXX</code>。</p>
<h3 id="3-4-2-查询服务端口详细信息"><a href="#3-4-2-查询服务端口详细信息" class="headerlink" title="3.4.2. 查询服务端口详细信息"></a>3.4.2. 查询服务端口详细信息</h3><p>刚才查询到了所有支持的服务，那firewalld给我们提供的默认服务的端口号究竟是啥呢？ <code>firewall-cmd --permanent --service=https --get-port</code> 返回<code>443/tcp</code>。</p>
<h3 id="3-4-3-放行服务端口"><a href="#3-4-3-放行服务端口" class="headerlink" title="3.4.3. 放行服务端口"></a>3.4.3. 放行服务端口</h3><p><code>firewall-cmd --add-service=service [--permanent] [--zone=zone] [--timeout=timeval]</code> 参数(–add-service):要放行的服务名，如ssh、http、https。 可选参数(–zone=zone)：将此规则添加到网络区，如果缺省该参数，添加到默认网络区内。 可选参数(–timeout=timeval)：临时生效时间，不可与<code>--permanent</code>连用。表达方式可以是<code>--timeout=[100s | 100m | 100h]</code>。(timeval is either a number (of seconds) or number followed by one of characters s(seconds), m(minutes), h(hours)) 可选选项(–permanent)：规则永久保存，重新加载防火墙后生效。如果缺省该参数则修改的规则立即生效，但是重新加载防火墙后规则会<strong>失效</strong>。</p>
<pre><code>firewall-cmd --add-service=https --permanent  #永久放行在默认网络区内的https(443端口)服务

firewall-cmd --add-service=https --timeout=1h #临时放行在默认网络区内的https服务1小时

firewwall-cmd --add-service=https --zone=home --permanent #永久放行在home网络区中的https服务
</code></pre><h3 id="3-4-4-关闭服务端口"><a href="#3-4-4-关闭服务端口" class="headerlink" title="3.4.4. 关闭服务端口"></a>3.4.4. 关闭服务端口</h3><p>如果关闭某一服务所对应的端口，那么将会时该服务无法对外部提供服务，请确定好删除的服务名，以免影响业务的正常服务！ 你可以通过<code>firewall-cmd --list-all</code>查看默认网络区下，当前开放了哪些服务与规则，确保在关闭之前，这些服务和端口是开放的状态。 <code>firewall-cmd --remove-service=https [--permanent] [--zone=zone]</code> 参数与规则与关闭端口类似，在此不再赘述。</p>
<h2 id="3-5-端口转发"><a href="#3-5-端口转发" class="headerlink" title="3.5. 端口转发"></a>3.5. 端口转发</h2><p>端口转发可以将到达某一端口的数据包转发到本机或其他机器上另一个的一个端口上。使用端口转发功能需要现开启<code>firewalld</code>的IP伪装功能。 使用<code>firewall-cmd --list-forward-ports</code>可以查询所有端口转发规则。</p>
<h3 id="3-5-1-开启IP伪装"><a href="#3-5-1-开启IP伪装" class="headerlink" title="3.5.1. 开启IP伪装"></a>3.5.1. 开启IP伪装</h3><p>防火墙可以实现IP伪装，默认为关闭状态。可以使用<code>firewall-cmd --query-masquerade</code>进行查询。 <code>firewall-cmd --query-masquerade</code>查询默认Zone网络区内的ip伪装功能是否开启。 返回<code>no</code>则为关闭状态。 <code>firewall-cmd --add-masquerade [--permanent] [--zone=zone] [--timeout=timeval]</code> 参数(–add-masquerade):开放IP转发功能。 可选参数(–zone=zone)：将此规则添加到网络区，如果缺省该参数，添加到默认网络区内。 可选参数(–timeout=timeval)：临时生效时间，不可与<code>--permanent</code>连用。表达方式可以是<code>--timeout=[100s | 100m | 100h]</code>。 可选选项(–permanent)：规则永久保存，重新加载防火墙后生效。如果缺省该参数则修改的规则立即生效，但是重新加载防火墙后规则会<strong>失效</strong>。 如果不需要IP地址伪装，使用下面的命令关闭。 <code>firewall-cmd --remove-masquerade [--permanent] [--zone=zone]</code></p>
<h3 id="3-5-2-开启端口转发"><a href="#3-5-2-开启端口转发" class="headerlink" title="3.5.2. 开启端口转发"></a>3.5.2. 开启端口转发</h3><p>请确保在开启端口转发前已经开启IP伪装功能。 <code>firewall-cmd --add-forward-port=port=portid[-portid]:proto=protocol[:toport=portid[-portid]][:toaddr=address[/mask]] [--permanent] [--zone=zone] [--timeout=timeval]</code> <strong>参数(–add-forward-port):</strong></p>
<pre><code>portid:本机端口号
protocal:UDP/TCP协议，此处只能选择一个。
[portid]:要转发到的端口。如果缺省该参数则默认与设置的本地端口一致。
[address]:要转发到的地址。如果缺省该参数则默认为本机地址。
</code></pre><p>可选选项(–permanent)：规则永久保存，重新加载防火墙后生效。如果缺省该参数则修改的规则立即生效，但是重新加载防火墙后规则会<strong>失效</strong>。 其他参数不再赘述。 下面是一些使用端口转发的案例：</p>
<pre><code>firewall-cmd --add-masquerade # 开启IP伪装（转发到其他IP上时必须开启，仅转发本地端口则非必须开启）


firewall-cmd --add-forward-port=port=8888:proto=udp:toport=53 --permanent #永久将本机默认网络区下的本地UDP8888端口转发到本地UDP53端口上。

firewall-cmd --add-forward-port=port=7777:proto=tcp:toport=6667:toaddr=192.168.1.160 --zone=public  #临时在public网络区下将本机7777端口的TCP流量转发到192.168.1.160上的6667端口上，重载防火墙后失效

firewall-cmd --add-forward-port=port=7777:proto=tcp:toport=6667:toaddr=192.168.1.160 --timeout=100s #临时在100秒内将默认网络区下将本机7777端口的TCP流量转发到192.168.1.160上的6667端口上，超时或重载防火墙后失效。
</code></pre><h3 id="3-5-3-关闭端口转发"><a href="#3-5-3-关闭端口转发" class="headerlink" title="3.5.3. 关闭端口转发"></a>3.5.3. 关闭端口转发</h3><p>使用 <code>firewall-cmd --list-forward-ports</code>查询当前已加载所有的端口转发规则</p>
<pre><code>firewall-cmd --list-forward-ports #查询当前已加载所有的端口转发规则
port=8888:proto=udp:toport=53:toaddr= #发现有一个转发规则
</code></pre><p>当不需要这个规则时我们可以删除它。 <code>firewall-cmd --remove-forward-port=port=portid[-portid]:proto=protocol[:toport=portid[-portid]][:toaddr=address[/mask]] [--permanent] [--zone=zone] [--timeout=timeval]</code> 参数部分不再赘述。与添加时的意思相对应。可以先查询规则，确定好你要删除的规则后将规则填写到<code>--remove-forward-port=</code>后即可。</p>
<blockquote>
<p>注意：如果你添加端口转发规则时，选择了<code>--permanet</code>永久生效,那么在永久删除时也要添加上<code>--permanet</code>选项。除非是想临时取消此这条规则。</p>
</blockquote>
<pre><code>firewall-cmd --list-forward-ports #查询当前已加载所有的端口转发规则
port=8888:proto=udp:toport=53:toaddr= #发现有一个转发规则，现在删除此规则。

firewall-cmd --remove-forward-port=port=8888:proto=udp:toport=53:toaddr=  --permanet  # 在默认的网络区内永久删除这条转发规则。

firewall-cmd --reload #使修改生效
</code></pre><h2 id="待续"><a href="#待续" class="headerlink" title="待续"></a>待续</h2>
        </div>
        <!-- .entry-content -->
        <div class="single-reward">
          <div class="reward-open">赏
            <div class="reward-main">
              <ul class="reward-row">
                <li class="alipay-code"><img src="/img/custom/donate/AliPayQR.jpg"></li>
                <li class="wechat-code"><img src="/img/custom/donate/WeChanQR.jpg"></li>
              </ul>
            </div>
          </div>
        </div>
        <div style="text-align:center; width: 100%" class="social-share share-mobile" data-disabled="diandian, tencent"></div>
        <footer class="post-footer">
          <div class="post-lincenses"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="nofollow"><i class="fa fa-creative-commons" aria-hidden="true"></i> 知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a></div>
          <div class="post-tags">
          </div>
          <div class="post-share">
            <div class="social-share sharehidden share-component"></div>
            <i class="iconfont show-share icon-forward"></i>
          </div>
        </footer><!-- .entry-footer -->
      </article>
      <!-- #post-## -->
      <div class="toc" style="background: none;"></div>
      <section class="post-squares nextprev">
        
          
            <div class="post-nepre half previous">
          
            <a href="/public/2020/02/08/ef-bc-88-e4-ba-94-ef-bc-89python-e6-95-b0-e6-8d-ae-e7-b1-bb-e5-9e-8b-ef-bc-88-e4-b8-8b-ef-bc-89/" rel="prev">
              <div class="background">
                <img class="lazyload" src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/loader/orange.progress-bar-stripe-loader.svg" data-src="" style="width: 100%; height: 100%; object-fit: cover; pointer-events: none;" onerror="imgError(this,3)" src="">
              </div>
              <span class="label">
              Previous Post</span>
              <div class="info">
                <h3>
                （五）python数据类型（下）</h3>
                <hr>
              </div>
            </a>
          </div>
        
        
          
            <div class="post-nepre half next">
          
            <a href="/public/2020/02/02/e6-a0-91-e8-8e-93-e6-b4-be-e7-bc-96-e8-af-91-e5-ae-89-e8-a3-85mysql5-7/" rel="next">
              <div class="background">
                <img class="lazyload" src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/loader/orange.progress-bar-stripe-loader.svg" data-src="" style="width: 100%; height: 100%; object-fit: cover; pointer-events: none;" onerror="imgError(this,3)" src="">
              </div>
              <span class="label">
              Next Post</span>
              <div class="info">
                <h3>
                树莓派编译安装Mysql5.7</h3>
                <hr>
              </div>
            </a>
          </div>
        
      </section>
      
      <section class="author-profile">
        <div class="info" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
          <a href="" class="profile gravatar"><img src="" itemprop="image" alt="" height="70" width="70"></a>
          <div class="meta">
            <span class="title">Author</span>
            <h3 itemprop="name">
            <a href="" itemprop="url" rel="author"></a>
            </h3>
          </div>
        </div>
        <hr>
        <p><i class="iconfont icon-write"></i></p>
      </section>
    </main><!-- #main -->
  </div><!-- #primary -->
</div>



    </div>    
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="请输入关键词..."/>
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            // PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
        },
        ROOT_URL: '/public/',
        CONTENT_URL: 'https://cdn.jsdelivr.net/gh/xbclub/hexo-back@gh-pages/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
    <!-- <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 42team<br>
      powered_by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer> -->
<footer id="colophon" class="site-footer" role="contentinfo">
  <div class="site-info">
    <div class="footertext">
      <div class="img-preload">
        <img src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/wordpress-rotating-ball-o.svg">
        <img src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/disqus-preloader.svg">
      </div>
      <p style="color: #666666;">&copy 2018</p>
    </div>
    <div class="footer-device">
    <p style="font-family: 'Ubuntu', sans-serif;">
        <span style="color: #b9b9b9;">Theme <a href="https://github.com/honjun/hexo-theme-sakura" target="_blank" style="color: #b9b9b9;;text-decoration: underline dotted rgba(0, 0, 0, .1);">Sakura</a> <i class="iconfont icon-sakura rotating" style="color: #ffc0cb;display:inline-block"></i> by <a href="https://2heng.xin/" target="_blank" style="color: #b9b9b9;;text-decoration: underline dotted rgba(0, 0, 0, .1);">Mashiro</a>&<a href="https://www.hojun.cn/" target="_blank" style="color: #b9b9b9;;text-decoration: underline dotted rgba(0, 0, 0, .1);">Hojun</a>, Powered by Hexo, Hosted by Coding Pages</a>
        </span>
      </p>
    </div>
  </div><!-- .site-info -->
</footer>



<!-- <script src="/js/tocbot.js"></script> -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/xbclub/staticCDN/js/lib.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/xbclub/staticCDN/js/InsightSearch.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/xbclub/staticCDN/js/jquery.fancybox.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/xbclub/staticCDN/js/zoom.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/xbclub/staticCDN/js/sakura-app.js"></script>

<script src='https://cdn.jsdelivr.net/gh/xbclub/staticCDN/js/Valine.min.js'></script>
<script src="/js/botui.js"></script>
<!-- 不蒜子 网页计数器 -->
<!--<script src="https://cdn.jsdelivr.net/gh/xbclub/staticCDN/js/busuanzi.pure.mini.js"></script>-->
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.min.js"></script> -->
<script type="text/javascript">
/* <![CDATA[ */
if (/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)) {
  var Poi = {"pjax":"1","movies":{"url": "https://cdn.jsdelivr.net/gh/honjun/hojun@1.2","name":"Unbroken.mp4","live":"close"},"windowheight":"fixed","codelamp":"close","ajaxurl":"","order":"asc","formpostion":"bottom"};
} else {
  var Poi = {"pjax":"1","movies":{"url": "https://cdn.jsdelivr.net/gh/honjun/hojun@1.2","name":"Unbroken.mp4","live":"open"},"windowheight":"auto","codelamp":"close","ajaxurl":"","order":"asc","formpostion":"bottom"};
}
/* ]]> */

</script>
<script>
$(document).ready(function() {
  if ($(".toc").length > 0 && document.body.clientWidth > 1200) {
    if ($(".pattern-center").length > 0) { //有图的情况
      tocbot.init({
          // Where to render the table of contents.
          tocSelector: '.toc', // 放置目录的容器
          // Where to grab the headings to build the table of contents.
          contentSelector: '.entry-content', // 正文内容所在
          // Which headings to grab inside of the contentSelector element.
          scrollSmooth: true,
          headingSelector: 'h1, h2, h3, h4, h5', // 需要索引的标题级别
          headingsOffset: -400,
          scrollSmoothOffset: -85
      });
    } else {
      tocbot.init({
          // Where to render the table of contents.
          tocSelector: '.toc', // 放置目录的容器
          // Where to grab the headings to build the table of contents.
          contentSelector: '.entry-content', // 正文内容所在
          // Which headings to grab inside of the contentSelector element.
          scrollSmooth: true,
          headingSelector: 'h1, h2, h3, h4, h5', // 需要索引的标题级别
          headingsOffset: -85,
          scrollSmoothOffset: -85
      });
    }
    var offsetTop = $('.toc').offset().top - 95;
    window.onscroll = function() {
      var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;
      if (scrollTop >= offsetTop) {
        $('.toc').addClass('toc-fixed');
      } else {
        $('.toc').removeClass('toc-fixed');
      }
    }
  }
});
</script>

    <div class="openNav no-select" style="height: 50px;">
      <div class="iconflat no-select" style="width: 50px; height: 50px;">
        <div class="icon"></div>
      </div>
      <div class="site-branding search-form-submit">
        <i class="iconfont js-toggle-search iconsearch icon-search"></i>
      </div>
    </div>
  </section>
  <div id="mo-nav" class="">
  <div class="m-avatar">
    <img src="https://cdn.jsdelivr.net/gh/xbclub/CDN/wp-content/uploads/2020/01/4311c9ad04554119.png">
  </div>
  <p style="text-align: center; color: #333; font-weight: 900; font-family: 'Ubuntu', sans-serif; letter-spacing: 1.5px">42cloud</p>
  <p style="text-align: center; word-spacing: 20px;">
    
      
        <a href="http://github.com/honjun" class="fa fa-github" target="_blank" style="color: #333; margin-left:20px"></a>
      
        <a href="http://weibo.com/mashirozx?is_all=1" class="fa fa-weibo" target="_blank" style="color: #dd4b39; margin-left:20px"></a>
      
        <a href="https://wpa.qq.com/msgrd?v=3&uin=954655431&site=qq&menu=yes" class="fa fa-qq" target="_blank" style="color: #25c6fe; margin-left:20px"></a>
      
    
  </p>
  <ul id="menu-new-1" class="menu">
    
      <li>
        <a href="/public/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-fort-awesome faa-shake" aria-hidden="true"></i>
            首页
          </span>
        </a>
        
      </li>
    
      <li>
        <a href="/public/categories/奇思妙想">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-lightbulb-o faa-shake" aria-hidden="true"></i>
            奇思妙想
          </span>
        </a>
        
          <ul class="sub-menu">
            
              <li>
                <a href="/public/categories/奇思妙想/实用技巧">
                  <i class="fa " aria-hidden="true"></i>
                  实用技巧
                </a>
              </li>
            
              <li>
                <a href="/public/categories/奇思妙想/漫画">
                  <i class="fa " aria-hidden="true"></i>
                  漫画
                </a>
              </li>
            
          </ul>
        
      </li>
    
      <li>
        <a href="/public/categories/代码学习">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-archive faa-shake" aria-hidden="true"></i>
            代码学习
          </span>
        </a>
        
          <ul class="sub-menu">
            
              <li>
                <a href="/public/categories/代码学习/Python">
                  <i class="fa " aria-hidden="true"></i>
                  Python
                </a>
              </li>
            
              <li>
                <a href="/public/categories/代码学习/Java">
                  <i class="fa " aria-hidden="true"></i>
                  Java
                </a>
              </li>
            
          </ul>
        
      </li>
    
      <li>
        <a href="/public/atom.xml">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-rss faa-pulse" aria-hidden="true"></i>
            RSS
          </span>
        </a>
        
      </li>
    
  </ul>
  <p style="text-align: center; font-size: 13px; color: #b9b9b9;">&copy 2019 hexo-sakura</p>
</div>
<button onclick="topFunction()" class="mobile-cd-top" id="moblieGoTop" title="Go to top" style="display: none;"><i class="fa fa-chevron-up" aria-hidden="true"></i></button>
  
</body>
</html>